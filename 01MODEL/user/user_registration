# ğŸ¯ CrÃ©er un formulaire d'inscription utilisateur dans Symfony

## ğŸ“Œ Objectif
CrÃ©er un systÃ¨me d'inscription pour permettre Ã  un utilisateur de :
- saisir ses informations (email ou username, mot de passe)
- Ãªtre enregistrÃ© en base de donnÃ©es
- Ã©ventuellement Ãªtre automatiquement connectÃ©

---

## 1ï¸âƒ£ PrÃ©-requis

Avant de faire le register, tu dois :
âœ”ï¸ Avoir une entitÃ© `User` gÃ©nÃ©rÃ©e avec `make:user`  
âœ”ï¸ Avoir configurÃ© la sÃ©curitÃ© (`security.yaml`)  
âœ”ï¸ Avoir crÃ©Ã© la table en base avec une migration

---

## 2ï¸âƒ£ GÃ©nÃ©rer le formulaire d'inscription

Commande Ã  exÃ©cuter dans le terminal :

```
php bin/console make:registration-form
```

OU

```
symfony console make:registration-form
```

---

## 3ï¸âƒ£ Questions posÃ©es par Symfony (et leurs significations)

---

1ï¸âƒ£ **"What class should be used to create the user?"**  
ğŸ‘‰ Symfony te demande l'entitÃ© Ã  utiliser.  
âœ… RÃ©ponds :
```
App\Entity\User
```

---

2ï¸âƒ£ **"Do you want to send an email to verify the user's email address after registration?"**  
ğŸ‘‰ Si tu veux que l'utilisateur confirme son adresse email avant de se connecter.  
âœ… Pour commencer, tu peux rÃ©pondre :
```
no
```

(Plus tard, tu pourras mettre `yes` pour ajouter une vÃ©rification par lien e-mail)

---

## 4ï¸âƒ£ Ce que Symfony gÃ©nÃ¨re automatiquement :

âœ”ï¸ Un contrÃ´leur : `src/Controller/RegistrationController.php`  
âœ”ï¸ Un formulaire : `src/Form/RegistrationFormType.php`  
âœ”ï¸ Une vue Twig : `templates/registration/register.html.twig`  
âœ”ï¸ Le hash du mot de passe avec le PasswordHasher  
âœ”ï¸ L'enregistrement automatique du `User` en base

---

## 5ï¸âƒ£ Test de lâ€™inscription

DÃ©marre ton serveur :

```
symfony server:start
```

Puis ouvre lâ€™URL suivante dans le navigateur :

```
http://localhost:8000/register
```

Tu verras un formulaire avec les champs dÃ©finis dans `RegistrationFormType.php`

---

## 6ï¸âƒ£ Important : le mot de passe est sÃ©curisÃ© automatiquement

Symfony utilise :

```php
UserPasswordHasherInterface $userPasswordHasher
```

Et hache le mot de passe comme ceci :

```php
$user->setPassword(
    $userPasswordHasher->hashPassword(
        $user,
        $form->get('plainPassword')->getData()
    )
);
```

---

## ğŸ§  Ã€ savoir

- Lâ€™utilisateur est automatiquement persistÃ© en base de donnÃ©es
- Tu peux personnaliser les champs du formulaire dans `RegistrationFormType.php`
- Tu peux ajouter dâ€™autres champs dans lâ€™entitÃ© `User` et les afficher dans le formulaire

---

âœ… RÃ©sumÃ© des Ã©tapes :
1. CrÃ©e l'entitÃ© User â†’ `make:user`
2. CrÃ©e la table â†’ `make:migration` + `migrate`
3. CrÃ©e le systÃ¨me d'inscription â†’ `make:registration-form`
4. Teste sur `/register`
5. Personnalise si besoin (champs, sÃ©curitÃ©, redirection)

---

âœ¨ Tu es prÃªt Ã  faire une vraie inscription utilisateur dans Symfony !
